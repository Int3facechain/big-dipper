query ProposalDetails($proposalId: Int) {
  proposal(where: {id: {_eq: $proposalId}}) {
    title
    description
    metadata
    content
    submit_time
    voting_end_epoch
    voting_start_epoch
    status
    proposer: proposer_address
    proposalId: id
    submitTime: submit_time
    votingStartTime: voting_start_epoch
    votingEndTime: voting_end_epoch
  }
}

query ProposalDetailsTally($proposalId: Int) {
	proposalTallyResult: proposal_tally_result(where: {proposal_id: {_eq: $proposalId}}) {
    height
    tally_type
    total
    yes
    no
    abstain
    proposal_id
  }
}

query ProposalDetailsVotes($proposalId: Int) {
  proposalVote: proposal_vote(where: {proposal_id: {_eq: $proposalId}}, order_by: {height: desc}) {
    height
    option
    proposal_id
    voterAddress: voter_address
  }
}
